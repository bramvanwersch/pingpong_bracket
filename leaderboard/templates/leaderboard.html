{% extends 'app.html' %}

{% block app %}
    <h2>
        Leaderboard
    </h2>
    <hr>
    <table>
        <thead>
        <tr>
            <th style="color: var(--main-color)">
                Name
            </th>
            <th style="color: var(--main-color)">
                Rating
            </th>
            <th style="color: var(--main-color)">
                Win percentage
            </th>
            <th style="color: var(--main-color)">
                Total games
            </th>
            <th style="color: var(--main-color)">
                Challenge
            </th>
        </tr>
        </thead>
        <tbody>
        {% for player in players %}
            <tr>
                <td>
                    <a style="color: var(--main-color)" href="/leaderboard/{{ player.name }}/">{{ player.name }}</a>
                </td>
                <td>
                    {{ player.rating }}
                </td>
                <td>
                    {{ player.winrate }} %
                </td>
                <td>
                    {{ player.total_games }}
                </td>
                <td>
                    {% if user.username != player.name %}
                        <button onclick="window.location = '/chatroom/send_challenge/{{ player.name }}'">
                            Challenge
                        </button>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}